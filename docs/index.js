!function(r,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("EtherealColor",[],e):"object"==typeof exports?exports.EtherealColor=e():r.EtherealColor=e()}("undefined"!=typeof self?self:this,(function(){return function(r){var e={};function t(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=r,t.c=e,t.d=function(r,e,n){t.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:n})},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,e){if(1&e&&(r=t(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var o in r)t.d(n,o,function(e){return r[e]}.bind(null,o));return n},t.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},t.p="",t(t.s=5)}([function(r,e,t){"use strict";function n(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(r)))return;var t=[],n=!0,o=!1,a=void 0;try{for(var i,u=r[Symbol.iterator]();!(n=(i=u.next()).done)&&(t.push(i.value),!e||t.length!==e);n=!0);}catch(r){o=!0,a=r}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return t}(r,e)||function(r,e){if(!r)return;if("string"==typeof r)return o(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(r);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.Color=void 0;var a=t(1),i=t(2);e.Color=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ffffff",t=a.Input(),o=i.Utils(),u=t.normalizeColor({from:e});function l(){return u}function c(r){return u=r}function f(r){return c(t.normalizeColor({from:r})),s("rgb")}function s(r){var e=l();return{object:e.object[r],string:e.string[r]}}function b(e){var t,a,i;if(Boolean(e)){var u=n(e.get(),2),l=u[0],c=u[1],s=l.get("rgb").object,b=s.r,g=s.g,m=s.b,d=c.get("rgb").object,v=d.r,p=d.g,h=d.b,y=[0,100],j=o.randomInt.apply(o,y),M=o.interpolate(y,[b,v]),O=o.interpolate(y,[g,p]),x=o.interpolate(y,[m,h]);t=M(j),i=O(j),a=x(j)}else t=o.randomInt(0,255),i=o.randomInt(0,255),a=o.randomInt(0,255);var w=r({r:t,g:i,b:a});return f(w.get("rgb").object),{object:w.get("rgb").object,string:w.get("rgb").string}}var g={set:f,get:s,random:b};return Object.freeze(g)}},function(r,e,t){"use strict";function n(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(r)))return;var t=[],n=!0,o=!1,a=void 0;try{for(var i,u=r[Symbol.iterator]();!(n=(i=u.next()).done)&&(t.push(i.value),!e||t.length!==e);n=!0);}catch(r){o=!0,a=r}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return t}(r,e)||function(r,e){if(!r)return;if("string"==typeof r)return o(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(r);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.Input=void 0;var a=t(2),i=t(3),u=t(0);e.Input=function(){var r=a.Utils(),e=i.Converter(),t=r.interpolate([0,100],[0,255]),o=r.getValueInRange,l={normalizeColor:function(r){var o,a,i,u=r.from,l=!1,c=!1,f=!1;if("string"==typeof u){if(u=u.replace(/\s+/g,"").toLowerCase(),l=Boolean(u.match(/^#/)),c=Boolean(u.match(/^rgb/)),f=Boolean(u.match(/^hsl/)),!(l||c||f))throw new Error("Invalid color string, must be a RGB, Hexadecimal or HSL format");var s,b,g;if(l){var m=u.length;if(4===m)s=u[1]+u[1],b=u[2]+u[2],g=u[3]+u[3];else{if(7!==m)throw new Error("Opacity is not supported, try to use #FFF or #FFFFFF format");s=u[1]+u[2],b=u[3]+u[4],g=u[5]+u[6]}o={r:s,g:b,b:g},a=e.hexToRgb(o),i=e.rgbToHsl(a)}else if(c){var d=n(u.replace(/(\()|(\))|(rgb)/g,"").split(","),3),v=d[0],p=d[1],h=d[2],y=u.match(/%/g);if(y&&y.length<3)throw new Error("You must use only percentage or only numbers in the color configuration");var j=Boolean(y);a={r:s=j?t(Number(v.replace(/%/g,""))):Number(v),g:b=j?t(Number(p.replace(/%/g,""))):Number(p),b:g=j?t(Number(h.replace(/%/g,""))):Number(h)},o=e.rgbToHex(a),i=e.rgbToHsl(a)}else{if(!f)throw new Error("Only theses formats are valid: RGB, Hexadecimal and HSL");var M=n(u.replace(/(\()|(\))|(hsl)|(%)/g,"").split(","),3),O=M[0],x=M[1],w=M[2];i={h:Number(O),s:Number(x),l:Number(w)},a=e.hslToRgb(i),o=e.rgbToHex(a)}}else{if(l="string"==typeof u.r,c="number"==typeof u.r,f="number"==typeof u.h,!l&&!c&&!f)throw new Error('The input must be a valid color string or a valid "Color" object');c?(a=u,o=e.rgbToHex(a),i=e.rgbToHsl(a)):l?(o=u,a=e.hexToRgb(o),i=e.rgbToHsl(a)):(i=u,a=e.hslToRgb(i),o=e.rgbToHex(a))}return{string:{hex:"#".concat(o.r).concat(o.g).concat(o.b),rgb:"rgb(".concat(a.r,", ").concat(a.g,", ").concat(a.b,")"),hsl:"hsl(".concat(i.h,", ").concat(i.s,"%, ").concat(i.l,"%)")},object:{rgb:a,hex:o,hsl:i}}},normalizePalette:function(r){var e=r.from,t=r.options.range,n="function"==typeof e.random,a="function"==typeof e.map;if(!n){if(a)return e;throw new Error("The Palette param must be a Color or Array of Colors")}var i=e.get("rgb").object,l={r:o({increment:-t,range:[0,255],value:i.r}),g:o({increment:-t,range:[0,255],value:i.g}),b:o({increment:-t,range:[0,255],value:i.b})},c={r:o({increment:t,range:[0,255],value:i.r}),g:o({increment:t,range:[0,255],value:i.g}),b:o({increment:t,range:[0,255],value:i.b})};return[u.Color(l),u.Color(c)]},normalizeGradient:function(e){for(var t=e.from,n=e.options.count,o=t.get()[0].get("rgb").object,a=t.get()[1].get("rgb").object,i=(a.r-o.r)/(n-1),l=(a.g-o.g)/(n-1),c=(a.b-o.b)/(n-1),f=[],s=0,b=o.r,g=o.g,m=o.b;s<n;s++,b+=i,g+=l,m+=c){var d=u.Color({r:r.oneDecimalPlace(b),g:r.oneDecimalPlace(g),b:r.oneDecimalPlace(m)});f.push(d)}return f}};return Object.freeze(l)}},function(r,e,t){"use strict";function n(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(r)))return;var t=[],n=!0,o=!1,a=void 0;try{for(var i,u=r[Symbol.iterator]();!(n=(i=u.next()).done)&&(t.push(i.value),!e||t.length!==e);n=!0);}catch(r){o=!0,a=r}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return t}(r,e)||function(r,e){if(!r)return;if("string"==typeof r)return o(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(r);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.Utils=void 0,e.Utils=function(){function r(r){return Boolean(r.toString().match(/\.[0-9][0-9]*/g))?Number(r.toFixed(1)):r}var e={interpolate:function(e,t){var o=n(e,2),a=o[0],i=o[1],u=n(t,2),l=u[0],c=u[1];return function(e){return e>i?e=i:e<a&&(e=a),r(l+(e-a)/(i-a)*(c-l))}},randomInt:function(r,e){return Math.floor(Math.random()*(e-r+1)+r)},averageBetween:function(r,e){return(e-r)/2+r},getValueInRange:function(r){var e=r.increment,t=r.range,o=r.value,a=n(t,2),i=a[0],u=a[1],l=o+e;return l<i?i:l>u?u:l},itsBetween:function(r,e){var t=n(e,2),o=t[0],a=t[1];return r>=o&&r<=a},oneDecimalPlace:r};return Object.freeze(e)}},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Converter=void 0;var n=t(2);e.Converter=function(){var r=n.Utils(),e={rgbToHsl:function(e){var t=e.r/255,n=e.g/255,o=e.b/255,a=Math.max(t,n,o),i=Math.min(t,n,o),u=(a+i)/2,l=0,c=0;return a!==i&&(l=u<.5?(a-i)/(a+i):(a-i)/(2-a-i),c=t===a?(n-o)/(a-i):n===a?2+(o-t)/(a-i):4+(t-n)/(a-i)),u*=100,l*=100,(c*=60)<0&&(c+=360),{h:Math.abs(r.oneDecimalPlace(c)),l:Math.abs(r.oneDecimalPlace(u)),s:Math.abs(r.oneDecimalPlace(l))}},hslToRgb:function(r){var e,t,n,o,a,i,u=r.h,l=r.s,c=r.l;return isFinite(u)||(u=0),isFinite(l)||(l=0),isFinite(c)||(c=0),(u/=60)<0&&(u=6- -u%6),u%=6,l=Math.max(0,Math.min(1,l/100)),c=Math.max(0,Math.min(1,c/100)),i=(a=(1-Math.abs(2*c-1))*l)*(1-Math.abs(u%2-1)),u<1?(e=a,t=i,n=0):u<2?(e=i,t=a,n=0):u<3?(e=0,t=a,n=i):u<4?(e=0,t=i,n=a):u<5?(e=i,t=0,n=a):(e=a,t=0,n=i),o=c-a/2,e=Math.round(255*(e+o)),t=Math.round(255*(t+o)),n=Math.round(255*(n+o)),{r:Math.abs(e),g:Math.abs(t),b:Math.abs(n)}},rgbToHex:function(r){var e=r.r,t=r.g,n=r.b,o=function(r){var e=r.toString(16);return 1===e.length?"0"+e:e};return{r:o(e),g:o(t),b:o(n)}},hexToRgb:function(r){var e=r.r,t=r.g,n=r.b,o="#".concat(e).concat(t).concat(n).replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(r,e,t,n){return e+e+t+t+n+n})),a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o)||"#FFFFFF";if(!a)throw new Error("Impossible to convert: 'rgb(".concat(e,", ").concat(t,", ").concat(n,")' to Hexadecimal"));return{r:Math.abs(parseInt(a[1],16)),g:Math.abs(parseInt(a[2],16)),b:Math.abs(parseInt(a[3],16))}}};return Object.freeze(e)}},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Palette=void 0;var n=t(1),o=t(0),a={range:40};e.Palette=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Color(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,t=n.Input(),i=t.normalizePalette({from:r,options:e});function u(){return i}function l(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return i=t.normalizePalette({from:r,options:e||{range:40}})}function c(){var r=o.Color();return r.random(),l(r),u()}var f={get:u,set:l,random:c};return Object.freeze(f)}},function(r,e,t){r.exports=t(6)},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Converter=e.Gradient=e.Palette=void 0;var n=t(0),o=t(4),a=t(7),i=t(3),u=n.Color,l=o.Palette;e.Palette=l;var c=a.Gradient;e.Gradient=c;var f=i.Converter;e.Converter=f,e.default=u},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gradient=void 0;var n=t(4),o=t(0),a=t(1),i={count:5};e.Gradient=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.Palette(o.Color()),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,t=a.Input(),u=t.normalizeGradient({from:r,options:e});function l(r){return u.map((function(e){return e.get(r).string}))}function c(r){return u.map((function(e){return e.get(r).object}))}function f(){return u}function s(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;u=t.normalizeGradient({from:r,options:e})}function b(){var r=o.Color();r.random(),s(n.Palette(r))}var g={toStringArray:l,toObjectArray:c,toColorArray:f,set:s,random:b};return Object.freeze(g)}}])}));